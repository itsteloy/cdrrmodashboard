{% load static %}
<div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-scrollable">
        <div class="modal-content">
            <form id="editForm" method="post">
                {% csrf_token %}
                <div class="modal-header bg-primary text-white sticky-top">
                    <h5 class="modal-title" id="editModalLabel">
                        <i class="fas fa-edit me-2"></i>Edit Referral Record
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>

                <div class="modal-body" style="overflow-y: auto; max-height: 70vh;">
                    <input type="hidden" name="document_id" id="edit_document_id">

                    <!-- Navigation Tabs -->
                    <ul class="nav nav-tabs mb-4 sticky-top bg-white" id="recordTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="patient-tab" data-bs-toggle="tab"
                                data-bs-target="#patient-info" type="button" role="tab">
                                <i class="fas fa-user me-1"></i> Patient Info
                            </button>
                        </li>
                    </ul>

                    <div class="tab-content" id="recordTabsContent">

                        <!-- Patient Info Tab -->
                        <div class="tab-pane fade show active" id="patient-info" role="tabpanel">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="text" class="form-control" id="patient_name" name="patient_name"
                                            placeholder="Patient Name">
                                        <label for="patient_name">Patient Name</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="text" class="form-control" id="reason_for_referral" name="reason_for_referral" placeholder="Reason for Referral">
                                        <label for="reason_for_referral">Reason for Referral</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="text" class="form-control" id="receiving_institution" name="receiving_institution" placeholder="Receiving Institution">
                                        <label for="receiving_institution">Receiving Institution</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="text" class="form-control" id="referring_institution"
                                            name="referring_institution" placeholder="Referring Institution">
                                        <label for="referring_institution">Referring Institution</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="text" class="form-control" id="endorsed_by" name="endorsed_by"
                                            placeholder="Endorsed By">
                                        <label for="endorsed_by">Endorsed By</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="text" class="form-control" id="endorsed_to" name="endorsed_to" placeholder="Endorsed To">
                                        <label for="endorsed_to">Endorsed To</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="consent_to_care" name="consent_to_care">
                                        <label class="form-check-label" for="consent_to_care">Consent to Care</label>
                                    </div>
                                
                                    <div class="form-check form-switch mt-3">
                                        <input class="form-check-input" type="checkbox" id="waiver" name="waiver">
                                        <label class="form-check-label" for="waiver">Waiver Signed</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="text" class="form-control" id="remarks" name="remarks" placeholder="Remarks">
                                        <label for="remarks">Remarks</label>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                </div>

                <div class="modal-footer sticky-bottom bg-white">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                        <i class="fas fa-times me-1"></i> Cancel
                    </button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save me-1"></i> Save Changes
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
<script src="{% static 'dashboardapp/js/editReferralRecords.js' %}"></script>

