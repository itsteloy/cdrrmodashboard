<div id="overviewStatus" class="alert alert-info py-2 px-3 mb-3 d-none" role="status">
    Connecting to realtime updates...
</div>

<section class="overview-top mb-4">
    <div class="row g-3">
        <div class="col-12 col-sm-6 col-md-4">
            <article class="card quick-stat h-100 shadow-sm border-0">
                <div class="card-body d-flex align-items-center">
                    <div class="icon-wrapper bg-primary text-white me-3">
                        <i class="bi bi-clipboard-data fs-4"></i>
                    </div>
                    <div>
                        <small class="text-muted">Total Incident Cases</small>
                        <h4 id="totalCasesValue" class="mb-0 fw-bold">{{ stats.total }}</h4>
                        <small class="text-muted">All time</small>
                    </div>
                </div>
            </article>
        </div>
        <div class="col-12 col-sm-6 col-md-4">
            <article class="card quick-stat h-100 shadow-sm border-0">
                <div class="card-body d-flex align-items-center">
                    <div class="icon-wrapper bg-danger text-white me-3">
                        <i class="bi bi-calendar-day fs-4"></i>
                    </div>
                    <div>
                        <small class="text-muted">Daily Cases</small>
                        <h4 id="dailyCasesValue" class="mb-0 fw-bold text-danger">{{ stats.daily }}</h4>
                        <small class="text-muted">Today</small>
                    </div>
                </div>
            </article>
        </div>
        <div class="col-12 col-sm-6 col-md-4">
            <article class="card quick-stat h-100 shadow-sm border-0">
                <div class="card-body d-flex align-items-center">
                    <div class="icon-wrapper bg-success text-white me-3">
                        <i class="bi bi-calendar-week fs-4"></i>
                    </div>
                    <div>
                        <small class="text-muted">Weekly Cases</small>
                        <h4 id="weeklyCasesValue" class="mb-0 fw-bold text-success">{{ stats.weekly }}</h4>
                        <small class="text-muted">Last 7 days</small>
                    </div>
                </div>
            </article>
        </div>
        <!-- Active Responders card removed as requested -->
    </div>
</section>
<section class="mb-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="h5 text-secondary mb-0">Recent Emergency Cases</h2>
        <small class="text-muted">Showing latest 10</small>
    </div>
    <div class="table-responsive shadow-sm rounded">
        <table class="table table-hover table-sm align-middle mb-0" id="emergencyTable">
            <thead class="table-light">
                <tr>
                    <th scope="col">Patient</th>
                    <th scope="col">Age</th>
                    <th scope="col">Complaint</th>
                    <th scope="col">Incident Date</th>
                    <th scope="col">DOB</th>
                </tr>
            </thead>
            <tbody id="emergencyTableBody">
                {% for doc in overview_data.emergency_form %}
                <tr>
                    <td>{{ doc.patient_name }}</td>
                    <td>{{ doc.age }}</td>
                    <td>{{ doc.chief_complaint }}</td>
                    <td>{{ doc.date_of_incident }}</td>
                    <td>{{ doc.date_of_birth }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="5" class="text-center py-3">No data found.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</section>
<section class="mb-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="h5 text-secondary mb-0">Recent Resident Reports</h2>
        <small class="text-muted">Latest entries</small>
    </div>
    <div class="table-responsive shadow-sm rounded">
        <table class="table table-hover table-sm mb-0" id="reportsTable">
            <thead class="table-light">
                <tr>
                    <th>Full Name</th>
                    <th>Description</th>
                    <th>Location</th>
                    <th>Timestamp</th>
                </tr>
            </thead>
            <tbody id="reportsTableBody">
                {% for doc in overview_data.resident_reports %}
                <tr>
                    <td>{{ doc.fullname }}</td>
                    <td>{{ doc.description }}</td>
                    <td>{{ doc.location }}</td>
                    <td>{{ doc.timestamp }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="4" class="text-center py-3">No data found.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</section>
<section class="mb-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="h5 text-secondary mb-0">Recent Referrals</h2>
        <small class="text-muted">Latest referrals</small>
    </div>
    <div class="table-responsive shadow-sm rounded">
        <table class="table table-hover table-sm mb-0" id="referralTable">
            <thead class="table-light">
                <tr>
                    <th>Patient</th>
                    <th>Reason</th>
                    <th>Receiving Institution</th>
                    <th>Timestamp</th>
                </tr>
            </thead>
            <tbody id="referralTableBody">
                {% for doc in overview_data.referral %}
                <tr>
                    <td>{{ doc.patient_name }}</td>
                    <td>{{ doc.reason_for_referral }}</td>
                    <td>{{ doc.receiving_institution }}</td>
                    <td>{{ doc.timestamp }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="4" class="text-center py-3">No data found.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</section>
<section class="mb-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="h5 text-secondary mb-0">Responding Team Logs</h2>
        <small class="text-muted">Recent activity</small>
    </div>
    <div class="table-responsive shadow-sm rounded">
        <table class="table table-hover table-sm mb-0" id="teamTable">
            <thead class="table-light">
                <tr>
                    <th>Team Leader</th>
                    <th>Team Member</th>
                    <th>Team Operator</th>
                    <th>Timestamp</th>
                </tr>
            </thead>
            <tbody id="teamTableBody">
                {% for doc in overview_data.responding_team %}
                <tr>
                    <td>{{ doc.team_leader }}</td>
                    <td>{{ doc.team_member }}</td>
                    <td>{{ doc.team_operator }}</td>
                    <td>{{ doc.timestamp }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="4" class="text-center py-3">No data found.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</section>

